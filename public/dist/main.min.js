function getColor(t){var e=0,o=t.length;if(0===t.length)return e;for(var a=0;a<o;a++){e=(e<<5)-e+t.charCodeAt(a),e&=e}return e*=e,e=(e%=16777216).toString(16)}function getMyName(){return currentName}function chatSend(){$("#currentName").text().trim();var t=$("#chatArea").val();socket.emit("sendChat",currentRoom,t),$("#chatArea").val("")}function chatAppend(t,e){"noticePrimary"==t?$("#chatting").append("<div class='alert alert-primary' style='text-align:center'>"+e+"</div>"):"noticeWarning"==t?$("#chatting").append("<div class='alert alert-warning' style='text-align:center'>"+e+"</div>"):"chat"==t?$("#chatting").append("<div class='alert alert-light' style='text-align:left'>"+e+"</div>"):"noticeDanger"==t?$("#chatting").append("<div class='alert alert-danger' style='text-align:center'>"+e+"</div>"):"vote"==t&&$("#chatting").append("<div class='alert alert-light' style='text-align:center; color : red'>"+e+"</div>"),$("#chatting").scrollTop($("#chatting")[0].scrollHeight)}function namePopover(t){info[t].members[0]!=getMyName()||info[t].isPlaying?$(".chatName").popover("dispose"):$(".chatName").each(function(){$temp=$(this),$(this).popover({placement:"bottom",trigger:"click",html:!0,sanitize:!1,title:"<span>".concat($(this).attr("data-sname"),'</span>   <a class="close"><i style="font-size:20px" class="fas fa-times"></i></a>'),content:'\n                      <button data="'.concat($(this).attr("data-sid"),'" class="btn btn-primary mandate" type="button" data-toggle="popover" data-placement="bottom" data-html="true" >방장 위임</button>\n                      <button data="').concat($(this).attr("data-sid"),'" class="btn btn-danger kick" type="button" data-toggle="popover" data-placement="bottom" data-html="true" >나가 ㅋ</button>\n                ')}).on("shown.bs.popover",function(t){var e="#"+$(t.target).attr("aria-describedby");console.log(e);var o=$(e);o.find(".close").click(function(){$(".chatName").popover("hide")}),o.find(".mandate").click(function(){$(".chatName").popover("hide")}),o.find(".kick").click(function(){$(".chatName").popover("hide")})})})}alert("AFSaD");var currentRoom,info,users,socket=io({transports:["websocket"],upgrade:!1}),currentName=$("#currentName").text().trim(),config={VolumeSFX:.5,checkPushAlarm:1,checkChattingSFX:1};$(document).ready(function(){currentRoom?$("#chatContainer").css("visibility","visible"):$("#chatContainer").css("visibility","hidden"),$("#leftContainer").css("display","block"),$("#leftGameContainer").css("display","none"),$("#exitRoom").css("visibility","hidden"),socket.emit("initName",currentName),$("#roomContainer").css("height",parseFloat($("#leftContainer").css("height"))-parseFloat($("#exitRoom").css("height"))-parseFloat($("#upperRoomContainer").css("height"))+"px")}),$(document).on("click","#startGame",function(){socket.emit("startGame",currentRoom)}),$(document).on("click","#chatRoomManage",function(){Swal.fire({title:"Room Manage",html:'\n  <div class="input-group mb-3">\n    <div class="input-group-prepend">\n      <span class="input-group-text" id="basic-addon1">방 이름</span>\n    </div>\n    <input type="text" id="changeRoomNameArea" class="form-control" placeholder="방 이름" aria-label="방 이름" aria-describedby="basic-addon1" value="'.concat(currentRoom,'">\n  </div>\n  <div class="input-group mb-3">\n    <div class="input-group-prepend">\n      <span class="input-group-text" id="basic-addon1">최대 인원</span>\n    </div>\n    <input type="text" id="changeRoomLimitArea" class="form-control" placeholder="최대 인원" aria-label="최대 인원" aria-describedby="basic-addon1" value="').concat(info[currentRoom].limit,'">\n  </div>\n  <div class="input-group mb-3">\n    <div class="input-group-prepend">\n      <div class="input-group-text">\n        비밀번호\n      </div>\n      <div class="input-group-text">\n        <input id="changePasswordCheck" type="checkbox" aria-label="Checkbox for following text input" ').concat(info[currentRoom].password?"checked":"",'>\n      </div>\n    </div>\n    <input id="changePasswordArea" type="password" class="form-control" aria-label="Text input with checkbox" ').concat(info[currentRoom].password?"":"disabled",">\n  </div>\n  "),showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Apply",inputAttributes:{autocapitalize:"off"},preConfirm:function(){var t=$("#changePasswordCheck").is(":checked");password=t?$("#changePasswordArea").val():"",socket.emit("changePassword",currentRoom,password);var e=info[currentRoom].limit,o=$("#changeRoomLimitArea").val();e!=o&&socket.emit("changeRoomLimit",currentRoom,e,o),(e=currentRoom)!=(o=$("#changeRoomNameArea").val())&&(socket.emit("changeRoomName",e,o),currentRoom=o)}})}),$(document).on("click","#chatSend",function(){chatSend()}),$("#chatArea").keyup(function(t){13==t.keyCode&&chatSend()}),$("#chatting").css("height",parseFloat($("#chatContainer").css("height"))-parseFloat($("#roomMasterArea").css("height"))-parseFloat($("#chatSendArea").css("height"))+"px"),$(window).resize(function(){$("#chatting").css("height",parseFloat($("#chatContainer").css("height"))-parseFloat($("#roomMasterArea").css("height"))-parseFloat($("#chatSendArea").css("height"))+"px")}),$(window).resize(function(){$("#roomContainer").css("height",parseFloat($("#leftContainer").css("height"))-parseFloat($("#exitRoom").css("height"))-parseFloat($("#upperRoomContainer").css("height"))+"px")}),$(document).on("click","#passwordCheck",function(){$(this).is(":checked")?$("#passwordArea").prop("disabled",!1):$("#passwordArea").prop("disabled",!0)}),$(document).on("click","#changePasswordCheck",function(){$(this).is(":checked")?$("#changePasswordArea").prop("disabled",!1):$("#changePasswordArea").prop("disabled",!0)}),$(document).on("click","#exitRoom",function(){socket.emit("leaveRoom",currentRoom)}),$(document).on("click","#exitGame",function(){$("#chatting").html("");var t=currentRoom;info[t].members[0]===getMyName()?($("#roomMasterArea").html('<div id="chatRoomManage" class="btn btn-secondary" style="margin-right:0px ; width:80%;height:40px">방 관리</div><div id="startGame" class="btn btn-danger" style="width:20%;height:40px">게임 시작</div>'),$("#roomMasterArea").css("height","40px")):($("#roomMasterArea").html('<div class="alert alert-secondary" style="width:100%;height:0px">방 관리</div>'),$("#roomMasterArea").css("height","0px")),$("#chatting").css("height",parseFloat($("#chatContainer").css("height"))-parseFloat($("#roomMasterArea").css("height"))-parseFloat($("#chatSendArea").css("height"))+"px"),currentRoom?($("#chatContainer").css("visibility","visible"),$("#exitRoom").css("visibility","visible")):($("#chatContainer").css("visibility","hidden"),$("#exitRoom").css("visibility","hidden")),namePopover(t),$("#leftContainer").css("display","block"),$("#leftGameContainer").css("display","none"),$("#roomContainer").css("height",parseFloat($("#leftContainer").css("height"))-parseFloat($("#exitRoom").css("height"))-parseFloat($("#upperRoomContainer").css("height"))+"px"),socket.emit("leaveRoom",currentRoom)}),$(document).on("click",".logout",function(){location.href="/logout"}),$(document).on("click","#makeRoom",function(){Swal.fire({title:"Room Name",html:'\n  <div class="input-group mb-3">\n    <div class="input-group-prepend">\n      <span class="input-group-text" id="basic-addon1">방 이름</span>\n    </div>\n    <input type="text" id="roomNameArea" class="form-control" placeholder="방 이름" aria-label="방 이름" aria-describedby="basic-addon1">\n  </div>\n  <div class="input-group mb-3">\n    <div class="input-group-prepend">\n      <span class="input-group-text" id="basic-addon1">최대 인원</span>\n    </div>\n    <input type="text" id="roomLimitArea" class="form-control" placeholder="최대 인원" aria-label="최대 인원" aria-describedby="basic-addon1" value="12">\n  </div>\n  <div class="input-group mb-3">\n    <div class="input-group-prepend">\n      <div class="input-group-text">\n        비밀번호\n      </div>\n      <div class="input-group-text">\n        <input id="passwordCheck" type="checkbox" aria-label="Checkbox for following text input">\n      </div>\n    </div>\n    <input id="passwordArea" type="password" class="form-control" aria-label="Text input with checkbox" disabled>\n  </div>\n  ',showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Apply",inputAttributes:{autocapitalize:"off"},showLoaderOnConfirm:!0,preConfirm:function(){var t,e=$("#roomNameArea").val(),o=$("#passwordCheck").is(":checked");t=o?$("#passwordArea").val():"";var a=$("#roomLimitArea").val();console.log(e,o,t),getMyName()&&(socket.emit("makeRoom",e,t,a),socket.emit("joinRoom",e,getMyName()))}})}),$(document).on("click",".room",function(){var e=$(this).children(".roomName").text();e!=currentRoom&&(info[e].password?Swal.fire({title:"Password",text:"비번",input:"password",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"Make & Enter",showLoaderOnConfirm:!0,preConfirm:function(t){console.log(e,t),socket.emit("checkPassword",e,t)},allowOutsideClick:function(){return!Swal.isLoading()}}):socket.emit("joinRoom",e,getMyName()))}),$(document).on("click",".mandate",function(){var t=$(this).attr("data");socket.emit("mandateRoomMaster",currentRoom,t)}),$(document).on("click",".kick",function(){var t=$(this).attr("data");socket.emit("kick",currentRoom,t)}),socket.on("refreshUser",function(t){console.log(t)}),socket.on("changePassword",function(t,e){chatAppend("noticePrimary","".concat(t,0==e?"의 비밀번호가 해제됨 ㅋ":"의 비밀번호가 변경됨 ㅋ"))}),socket.on("changeRoomLimit",function(t,e){chatAppend("noticePrimary","방의 최대 인원이 ".concat(t,"에서 ").concat(e,"로 변경됨 ㅋ"))}),socket.on("changeRoomLimitErr",function(){Swal.fire({icon:"error",title:"저런",text:"현재 인원보다 최대 인원이 작으면 안됨ㅋ"})}),socket.on("changeRoomName",function(t,e){currentRoom=e,chatAppend("noticePrimary","방의 이름이 ".concat(t,"에서 ").concat(e,"로 변경됨 ㅋ"))}),socket.on("a",function(t){console.log(t)}),socket.on("newRoomMaster",function(t,e,o){chatAppend("noticePrimary","<span class='chatName' data-sname='".concat(e,"' data-sid='").concat(o,"' style='font-weight:1000;color:#").concat(getColor(e),"'>").concat(e,"</span>님이 ").concat(t,"의 방장이 됨 ㅋ")),e===getMyName()?($("#roomMasterArea").html('<div id="chatRoomManage" class="btn btn-secondary" style="margin-right:0px ; width:80%;height:40px">방 관리</div><div id="startGame" class="btn btn-danger" style="width:20%;height:40px">게임 시작</div>'),$("#roomMasterArea").css("height","40px")):($("#roomMasterArea").html('<div id="chatRoomManage" class="alert alert-secondary" style="width:100%;height:0px">방 관리</div>'),$("#roomMasterArea").css("height","0px")),$("#chatting").css("height",parseFloat($("#chatContainer").css("height"))-parseFloat($("#roomMasterArea").css("height"))-parseFloat($("#chatSendArea").css("height"))+"px"),namePopover(t)}),socket.on("receiveChat",function(t,e,o,a,n){if(info[e].members[0]!=o||info[e].isPlaying?chatAppend("chat",'<span data-toggle="popover" data-placement="bottom"  data-html="true" data-sname=\''.concat(o,"' data-sid='").concat(t,"'\n                              class='chatName ").concat(t," ").concat(n,"Name' style='cursor:pointer;font-weight:1000;color:#").concat(getColor(o),"'>").concat(o,"</span> : <span class='").concat(n,"Chat'>").concat(a,"</span>")):chatAppend("chat",'<span data-toggle="popover" data-placement="bottom"  data-html="true" data-sname=\''.concat(o,"' data-sid='").concat(t,"'\n          class='chatName ").concat(t,"' style='cursor:pointer;font-weight:1000;color:#").concat(getColor(o),"'><i class='fas fa-crown'></i> ").concat(o,"</span> : <span class='").concat(n,"Chat'>").concat(a,"</span>")),currentName!=o&&!isFocus&&!info[e].isPlaying&&(config.checkPushAlarm&&Push.create(o,{body:a,icon:"/images/icon_player.png",timeout:3e3,onClick:function(){window.focus(),this.close()}}),config.checkChattingSFX)){var c=document.getElementById("audio_play");c.volume=config.VolumeSFX,c.paused||(c.pause(),c.currentTime=0),c.play()}namePopover(e)});var isFocus=1;$(window).focus(function(){isFocus=1}),$(window).blur(function(){isFocus=0}),socket.on("noticeChangeName",function(t,e,o){chatAppend("noticePrimary",'<span class="chatName" data-sname=\''.concat(t,"' data-sid='").concat(o,"' style='font-weight:1000;color:#").concat(getColor(t),"'>").concat(t,'</span>님이 <span class="chatName" data-sname=\'').concat(e,"' data-sid='").concat(o,"' style='font-weight:1000;color:#").concat(getColor(e),"'>").concat(e,"</span>로 이름 바꿈 ㅋ")),namePopover(currentRoom)}),socket.on("checkPassword",function(t,e){console.log(e),e?socket.emit("joinRoom",t,getMyName()):Swal.fire({icon:"error",title:"저런",text:"비밀번호 틀렸음 ㅋ"})}),socket.on("exceedRoomLimit",function(t){Swal.fire({icon:"error",title:"저런",text:"최대 인원 넘어감ㅋ"})}),$(document).on("click","#setName",function(){var t=$("#currentName").text().trim(),e=$("#inputName").val();socket.emit("changeName",t,e)}),socket.on("joinRoom",function(t,e,o,a){a&&$("#chatting").html(""),chatAppend("noticePrimary","<span data-sname='".concat(e,"' data-sid='").concat(o,"' class='chatName ").concat(o,"' style='font-weight:1000;color:#").concat(getColor(e),"'>").concat(e,"</span>님이 ").concat(t,"에 입장함 ㅋ")),info[currentRoom=t].members[0]===getMyName()?($("#roomMasterArea").html('<div id="chatRoomManage" class="btn btn-secondary" style="margin-right:0px ; width:80%;height:40px">방 관리</div><div id="startGame" class="btn btn-danger" style="width:20%;height:40px">게임 시작</div>'),$("#roomMasterArea").css("height","40px")):($("#roomMasterArea").html('<div class="alert alert-secondary" style="width:100%;height:0px">방 관리</div>'),$("#roomMasterArea").css("height","0px")),$("#chatting").css("height",parseFloat($("#chatContainer").css("height"))-parseFloat($("#roomMasterArea").css("height"))-parseFloat($("#chatSendArea").css("height"))+"px"),currentRoom?($("#chatContainer").css("visibility","visible"),$("#exitRoom").css("visibility","visible")):($("#chatContainer").css("visibility","hidden"),$("#exitRoom").css("visibility","hidden")),namePopover(t)}),socket.on("leaveRoom",function(t,e,o,a){console.log(t,e,a),chatAppend("noticeDanger","<span data-sname='".concat(e,"' data-sid='").concat(o,"' class='chatName ").concat(o,"' style='font-weight:1000;color:#").concat(getColor(e),"'>").concat(e,"</span>님이 ").concat(t,"을 나감 ㅋ")),a&&(currentRoom=void 0),currentRoom?($("#chatContainer").css("visibility","visible"),$("#exitRoom").css("visibility","visible")):($("#chatContainer").css("visibility","hidden"),$("#exitRoom").css("visibility","hidden")),namePopover(t)}),socket.on("kickedRoom",function(t,e,o,a){console.log(t,e,a),chatAppend("noticeDanger","<span data-sname='".concat(e,"' data-sid='").concat(o,"' class='chatName ").concat(o,"' style='font-weight:1000;color:#").concat(getColor(e),"'>").concat(e,"</span>님이 강퇴당함 ㅋㅋㅋㅋㅋㅋㅋ")),a&&(currentRoom=void 0,Swal.fire({icon:"error",title:"ㅋㅋㅋㅋㅋㅋㅋ",text:"강퇴 당함 ㅋ"})),currentRoom?($("#chatContainer").css("visibility","visible"),$("#exitRoom").css("visibility","visible")):($("#chatContainer").css("visibility","hidden"),$("#exitRoom").css("visibility","hidden")),namePopover(t)}),socket.on("failSetName",function(){alert("이미 있는 이름임ㅋ")}),socket.on("successSetName",function(){$("#currentName").text($("#inputName").val()),currentName=$("#inputName").val()}),socket.on("refreshMain",function(t){info=t,$('[data-toggle="tooltip"]').tooltip("hide"),console.log(t);var e="<hr>";for(var o in t)if(!t[o].isPlaying){var a="";for(var n in a+="<span style='color:red !important'>".concat(o,"</span><hr class='tooltipHR' style='background-color:red'>"),t[o].members)a+=0==n?"<span> <i class='fas fa-crown'></i> "+t[o].members[n]+"</span>":"<br> <span>"+t[o].members[n]+"</span>";t[o].members.includes(getMyName())?e+="\n            <div class='room alert alert-warning d-flex justify-content-between '\n            data-toggle='tooltip' data-placement='bottom' data-html='true' title=\"".concat(a,'"> \n              <div class=\'roomName\' style="display: block;text-overflow:ellipsis;overflow: hidden;white-space: nowrap;">').concat(o,"</div>\n              <div class='roomLimit '>(").concat(t[o].members.length,"/").concat(t[o].limit,")</div>\n            </div>"):e+="\n            <div class='room alert alert-info d-flex justify-content-between '\n            data-toggle='tooltip' data-placement='bottom' data-html='true' title=\"".concat(a,'"> \n              <div class=\'roomName\' style="display: block;text-overflow:ellipsis;overflow: hidden;white-space: nowrap;">').concat(o,"</div>\n              <div class='roomLimit '>(").concat(t[o].members.length,"/").concat(t[o].limit,")</div>\n            </div>"),e+="<hr>"}$("#roomContainer").html(e),$('[data-toggle="tooltip"]').tooltip(),$("#roomContainer").css("height",parseFloat($("#leftContainer").css("height"))-parseFloat($("#exitRoom").css("height"))-parseFloat($("#upperRoomContainer").css("height"))+"px")}),$(".config").on("click",function(){Swal.fire({title:"Config",html:'\n            <label for="VolumeSFX">효과음 크기</label>\n            <input type="range" class="custom-range" id="VolumeSFX" min="0" max="1" step="0.1" value="'.concat(config.VolumeSFX,'">\n            \n            <hr>\n            <div class="custom-control custom-switch">\n              \n              <input type="checkbox" class="custom-control-input" id="checkPushAlarm" ').concat(config.checkPushAlarm?"checked":"",'>\n              <label class="custom-control-label" for="checkPushAlarm">화면을 보고 있지 않을 때 채팅 푸쉬 알림</label>\n            </div>\n            <div class="custom-control custom-switch">\n              \n              <input type="checkbox" class="custom-control-input" id="checkChattingSFX" ').concat(config.checkChattingSFX?"checked":"",'>\n              <label class="custom-control-label" for="checkChattingSFX">화면을 보고 있지 않을 때 채팅 효과음</label>\n            </div>\n            \n    '),showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Apply",inputAttributes:{autocapitalize:"off"},preConfirm:function(){config.VolumeSFX=$("#VolumeSFX").val(),config.checkPushAlarm=$("#checkPushAlarm").is(":checked"),config.checkChattingSFX=$("#checkChattingSFX").is(":checked")}})});
$(window).resize(function(){$("#gameMembers").css("height",parseFloat($("#leftGameContainer").css("height"))-parseFloat($("#upperGameContainer").css("height"))-40+"px")}),socket.on("refreshRoom",function(e){var t=e.members;for(var a in $("#gameMembers").html(""),t)e.alive.includes(t[a])?$("#gameMembers").append('\n            <div member-data="'.concat(t[a],'" class="card member" style="float:left;display:inline-block;">\n                <img src="../images/icon_player.png" class="card-img-top" alt="...">\n                <div class="card-body" style="text-align:center;padding-left:0px; padding-right:0px; padding-top:8px;">\n                    <div class="').concat(currentName==t[a]?"myName":"",'" style="font-size:18px; height:36px;color:#').concat(getColor(t[a]),'; font-weight:500;">\n                        ').concat(t[a],"\n                    </div>    \n                \n                </div>\n            </div>")):$("#gameMembers").append('\n            <div member-data="'.concat(t[a],'" class="card member dead" style="float:left;display:inline-block;">\n                <img src="../images/icon_player.png" class="card-img-top" alt="...">\n                <div class="card-body" style="text-align:center;padding-left:0px; padding-right:0px; padding-top:8px">\n                    <div class="').concat(currentName==t[a]?"myName":"",'" style="font-size:18px; height:36px;color:#').concat(getColor(t[a]),'; font-weight:500;">\n                        ').concat(t[a],"\n                    </div>    \n                \n                </div>\n            </div>"));$("#gameMembers").find("img").on("load",function(){$("#gameMembers").css("height",parseFloat($("#leftGameContainer").css("height"))-parseFloat($("#upperGameContainer").css("height"))-40+"px")})}),socket.on("startGame",function(){$("#roomMasterArea").html('<div class="alert alert-secondary" style="width:100%;height:0px">방 관리</div>'),$("#roomMasterArea").css("height","0px"),$("#chatting").css("height",parseFloat($("#chatContainer").css("height"))-parseFloat($("#roomMasterArea").css("height"))-parseFloat($("#chatSendArea").css("height"))+"px"),$("#chatting").html(""),$("#roomMasterArea").html(""),$("#leftContainer").css("display","none"),$("#leftGameContainer").css("display","block")}),socket.on("getTimeStatus",function(e){$("#timeStatus").html(e)}),socket.on("getDateStatus",function(e,t){$("#dateStatus").html(e+" 번째 "+t),chatAppend("noticeDanger",t+"이 되었습니다.")}),socket.on("gameMessage",function(e){chatAppend("noticePrimary",e)}),socket.on("appeal",function(e){chatAppend("noticePrimary","<span style='font-weight:1000;color:#".concat(getColor(e),"'>").concat(e,"</span> - 최후의 변론"))}),socket.on("initJob",function(e){chatAppend("noticeWarning","당신은 ".concat(e,"입니다."))}),socket.on("selectPlayerAvailable",function(e,t){for(var a in chatAppend("noticePrimary",e),$(".member").css("cursor","not-allowed"),t)$(".member[member-data=".concat(t[a],"]")).css("cursor","pointer");$(".member").on("click",function(){t.includes($(this).attr("member-data"))&&($(this).hasClass("selected")||($(".member").css("border","0px"),$(".selected").removeClass("selected"),$(this).addClass("selected"),$(this).css("border","5px solid red"),socket.emit("selectPlayer",currentRoom,$(this).attr("member-data"))))})}),socket.on("selectPlayerUnvailable",function(e){$(".member").off("click")}),socket.on("votedPlayer",function(e){chatAppend("vote","".concat(e))}),socket.on("mafiaAbility",function(e){chatAppend("noticeDanger",e+"(이)가 마피아에 의해 죽었습니다."),$(".member[member-data=".concat(e,"]")).addClass("dead")}),socket.on("doctorAbility",function(e){chatAppend("noticePrimary",e+"(이)가 의사의 치료를 받고 살아났습니다.")}),socket.on("soldierAbility",function(e){chatAppend("noticePrimary",e+"(이)가 마피아의 공격을 버텨냈습니다! 장하다 국군 장병!")}),socket.on("politicianAbility",function(e){chatAppend("noticePrimary","정치인은 투표로 죽지 않습니다. 장하다 정치인!")}),socket.on("reporterAbility",function(e,t){chatAppend("noticePrimary","(충격,공포,실화) ".concat(e,"이(가) ").concat(t,"(이)라고? 삐슝빠슝뿌슝"))}),socket.on("priestAbility",function(e){chatAppend("noticePrimary","".concat(e,"가 부활했습니다."))}),socket.on("voteResult",function(e,t){t?(chatAppend("noticeDanger",e+"(이)가 투표로 처형당했습니다."),$(".member[member-data=".concat(e,"]")).addClass("dead")):chatAppend("noticeDanger",e+"(이)가 투표에서 살아남았습니다.")}),socket.on("finalVote",function(e){$("#finalVoteModal div.modal-body").html('<span style="font-weight:800;font-size:20px;color:#'.concat(getColor(e),';">').concat(e,"</span> - 처형")),$("#finalVoteModal").modal(),$("#agreeVote").on("click",function(){socket.emit("selectPlayer",currentRoom,1)}),$("#disagreeVote").on("click",function(){socket.emit("selectPlayer",currentRoom,0)})}),socket.on("endFinalVote",function(){$("#agreeVote").off("click"),$("#disagreeVote").off("click"),$("#finalVoteModal").modal("hide")}),socket.on("endGame",function(){$("#chatting").html("");var e=currentRoom;info[e].members[0]===getMyName()?($("#roomMasterArea").html('<div id="chatRoomManage" class="btn btn-secondary" style="margin-right:0px ; width:80%;height:40px">방 관리</div><div id="startGame" class="btn btn-danger" style="width:20%;height:40px">게임 시작</div>'),$("#roomMasterArea").css("height","40px")):($("#roomMasterArea").html('<div class="alert alert-secondary" style="width:100%;height:0px">방 관리</div>'),$("#roomMasterArea").css("height","0px")),$("#chatting").css("height",parseFloat($("#chatContainer").css("height"))-parseFloat($("#roomMasterArea").css("height"))-parseFloat($("#chatSendArea").css("height"))+"px"),currentRoom?($("#chatContainer").css("visibility","visible"),$("#exitRoom").css("visibility","visible")):($("#chatContainer").css("visibility","hidden"),$("#exitRoom").css("visibility","hidden")),namePopover(e),$("#leftContainer").css("display","block"),$("#leftGameContainer").css("display","none"),$("#roomContainer").css("height",parseFloat($("#leftContainer").css("height"))-parseFloat($("#exitRoom").css("height"))-parseFloat($("#upperRoomContainer").css("height"))+"px"),chatAppend("noticeDanger","게임이 끝났습니다.")}),socket.on("noticeGameResult",function(e,t){"mafiaWin"==e?chatAppend("noticePrimary","마피아 팀이 승리하였습니다."):"citizenWin"==e&&chatAppend("noticePrimary","시민 팀이 승리하였습니다."),chatAppend("noticePrimary","".concat(t,"초 후 로비로 복귀합니다."))}),socket.on("policeResult",function(e,t){t?chatAppend("noticeDanger","".concat(e,"는 마피아입니다.")):chatAppend("noticePrimary","".concat(e,"는 마피아가 아닙니다."))}),socket.on("shamanResult",function(e,t){t&&chatAppend("noticeDanger","".concat(e,"는 ").concat(t,"였습니다."))}),socket.on("detectiveResult",function(e,t){t&&chatAppend("noticeDanger","".concat(e,"가 ").concat(t,"지목 "))}),socket.on("mafiaSelected",function(e){$temp=$(".member[member-data=".concat(e,"]")),$temp.hasClass("selected")||($(".member").css("border","0px"),$(".selected").removeClass("selected"),$temp.addClass("selected"),$temp.css("border","5px solid red"))});