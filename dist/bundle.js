!function(e){var t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(r,n,e){o.o(r,n)||Object.defineProperty(r,n,{enumerable:!0,get:e})},o.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},o.t=function(n,r){if(1&r&&(n=o(n)),8&r)return n;if(4&r&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&r&&"string"!=typeof n)for(var t in n)o.d(e,t,function(r){return n[r]}.bind(null,t));return e},o.n=function(r){var n=r&&r.__esModule?function(){return r.default}:function(){return r};return o.d(n,"a",n),n},o.o=function(r,n){return Object.prototype.hasOwnProperty.call(r,n)},o.p="",o(o.s="./public/javascripts/main.js")}({"./public/javascripts/main.js":
/*!************************************!*\
  !*** ./public/javascripts/main.js ***!
  \************************************/
/*! no exports provided */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var _stylesheets_style_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../stylesheets/style.css */ "./public/stylesheets/style.css");\n   \r\n\r\n\r\n  //  var docV = document.documentElement;\r\n  //  // 전체화면 설정\r\n  //  function openFullScreenMode() {\r\n  //      if (docV.requestFullscreen)\r\n  //          docV.requestFullscreen();\r\n  //      else if (docV.webkitRequestFullscreen) // Chrome, Safari (webkit)\r\n  //          docV.webkitRequestFullscreen();\r\n  //      else if (docV.mozRequestFullScreen) // Firefox\r\n  //          docV.mozRequestFullScreen();\r\n  //      else if (docV.msRequestFullscreen) // IE or Edge\r\n  //          docV.msRequestFullscreen();\r\n  //  }\r\n\r\n  //  openFullScreenMode();\r\n\r\n  \r\n\r\n\r\n\r\n      function getColor(text){\r\n          var hash = 0, len = text.length;\r\n          if (text.length === 0) {\r\n              return hash;\r\n          }\r\n          for (i = 0; i < len; i++) {\r\n              charC = text.charCodeAt(i);\r\n              hash = ((hash<<5)-hash)+charC;\r\n              hash = hash & hash; \r\n          }\r\n          \r\n          hash = hash * hash\r\n          hash = hash % 16777216\r\n          hash = hash.toString(16)\r\n          return hash;\r\n      }\r\n  \r\n      function getMyName(){\r\n  \r\n  \r\n        // $.ajax({\r\n        //     type: "POST",\r\n        //     url: "/getName",\r\n        //     data: {\'id\' : users[socket.id]},\r\n        //     async: false,\r\n        //     success:function(data){\r\n        //         //console.log(data)\r\n        //         currentName = data.name.trim();\r\n        //     }\r\n        // });\r\n        // console.count("getMyName")\r\n  \r\n  \r\n        return currentName;\r\n  \r\n      }\r\n    \r\n      function chatSend(){\r\n        var name = $(\'#currentName\').text().trim();\r\n        var text = $(\'#chatArea\').val();\r\n        socket.emit(\'sendChat\', currentRoom, text);\r\n        $(\'#chatArea\').val(\'\');\r\n      }\r\n\r\n      \r\n      function chatAppend(type, text){\r\n        if(type == "noticePrimary"){\r\n          $(\'#chatting\').append("<div class=\'alert alert-primary\' style=\'text-align:center\'>" + text + "</div>");\r\n        }else if(type == "noticeWarning"){\r\n          $(\'#chatting\').append("<div class=\'alert alert-warning\' style=\'text-align:center\'>" + text + "</div>");\r\n        }else if(type == "chat"){\r\n          $(\'#chatting\').append("<div class=\'alert alert-light\' style=\'text-align:left\'>" + text + "</div>");\r\n        }else if(type == "noticeDanger"){\r\n          $(\'#chatting\').append("<div class=\'alert alert-danger\' style=\'text-align:center\'>" + text + "</div>");\r\n        }else if(type == "vote"){\r\n          $(\'#chatting\').append("<div class=\'alert alert-light\' style=\'text-align:center; color : red\'>" + text + "</div>");\r\n        }\r\n        $("#chatting").scrollTop($("#chatting")[0].scrollHeight);\r\n      }\r\n  \r\n      function namePopover(roomName){\r\n  \r\n        if(info[roomName].members[0] == getMyName() && !info[roomName].isPlaying){\r\n      \r\n            $(\'.chatName\').each(function(){\r\n              $temp = $(this)\r\n              $(this).popover({\r\n                placement: \'bottom\',\r\n                trigger: \'click\',\r\n                html: true,\r\n                sanitize: false,\r\n                title: `<span>${$(this).attr("data-sname")}</span>   <a class="close"><i style="font-size:20px" class="fas fa-times"></i></a>`,\r\n                content: \r\n                `\r\n                      <button data="${$(this).attr("data-sid")}" class="btn btn-primary mandate" type="button" data-toggle="popover" data-placement="bottom" data-html="true" >방장 위임</button>\r\n                      <button data="${$(this).attr("data-sid")}" class="btn btn-danger kick" type="button" data-toggle="popover" data-placement="bottom" data-html="true" >나가 ㅋ</button>\r\n                `\r\n                \r\n              }).on(\'shown.bs.popover\', function(e) {\r\n              \r\n                var current_popover = \'#\' + $(e.target).attr(\'aria-describedby\');\r\n                console.log(current_popover)\r\n                var $cur_pop = $(current_popover);\r\n              \r\n                $cur_pop.find(\'.close\').click(function(){\r\n                    //console.log(\'close triggered\');\r\n                    $(\'.chatName\').popover(\'hide\');\r\n                });\r\n                $cur_pop.find(\'.mandate\').click(function(){\r\n                    //console.log(\'close triggered\');\r\n                    $(\'.chatName\').popover(\'hide\');\r\n                });\r\n                $cur_pop.find(\'.kick\').click(function(){\r\n                    //console.log(\'close triggered\');\r\n                    $(\'.chatName\').popover(\'hide\');\r\n                });\r\n                \r\n              });\r\n            });\r\n           \r\n        }else{\r\n          $(\'.chatName\').popover(\'dispose\')\r\n        }\r\n      };\r\n  \r\n      //var socket = io(); \r\n      \r\n      var socket = io({transports: [\'websocket\'], upgrade: false});\r\n      \r\n      var currentRoom;\r\n      var info;\r\n      var users;\r\n      var currentName = $(\'#currentName\').text().trim();\r\n      var config = {};\r\n      config.VolumeSFX = 0.5;\r\n      config.checkPushAlarm = 1;\r\n      config.checkChattingSFX = 1;\r\n\r\n      \r\n      $(document).ready(function(){\r\n        if(!currentRoom){\r\n          $(\'#chatContainer\').css(\'visibility\', \'hidden\');\r\n        }else{\r\n          $(\'#chatContainer\').css(\'visibility\', \'visible\');\r\n        }\r\n\r\n        $("#leftContainer").css(\'display\', \'block\');\r\n        $("#leftGameContainer").css(\'display\', \'none\');\r\n\r\n        $(\'#exitRoom\').css(\'visibility\', \'hidden\');\r\n        socket.emit(\'initName\', currentName);\r\n        $("#roomContainer").css("height", (parseFloat($("#leftContainer").css("height")) -  parseFloat($("#exitRoom").css("height")) -  parseFloat($("#upperRoomContainer").css("height"))) + "px")\r\n      })\r\n  \r\n  \r\n  \r\n      \r\n  \r\n        \r\n  \r\n     \r\n  \r\n      \r\n  \r\n      //$("#changeRoomNameArea").keyup(function(e){if(e.keyCode == 13)  $(this).parents(\'swal2-content\').next().find(\'button\').trigger("click") });\r\n  \r\n  \r\n      $(document).on("click", "#startGame", function(){\r\n        socket.emit(\'startGame\', currentRoom);\r\n      })\r\n  \r\n  \r\n  \r\n      $(document).on("click", "#chatRoomManage", function(){\r\n        Swal.fire({\r\n          title: \'Room Manage\',\r\n          html: `\r\n  <div class="input-group mb-3">\r\n    <div class="input-group-prepend">\r\n      <span class="input-group-text" id="basic-addon1">방 이름</span>\r\n    </div>\r\n    <input type="text" id="changeRoomNameArea" class="form-control" placeholder="방 이름" aria-label="방 이름" aria-describedby="basic-addon1" value="${currentRoom}">\r\n  </div>\r\n  <div class="input-group mb-3">\r\n    <div class="input-group-prepend">\r\n      <span class="input-group-text" id="basic-addon1">최대 인원</span>\r\n    </div>\r\n    <input type="text" id="changeRoomLimitArea" class="form-control" placeholder="최대 인원" aria-label="최대 인원" aria-describedby="basic-addon1" value="${info[currentRoom].limit}">\r\n  </div>\r\n  <div class="input-group mb-3">\r\n    <div class="input-group-prepend">\r\n      <div class="input-group-text">\r\n        비밀번호\r\n      </div>\r\n      <div class="input-group-text">\r\n        <input id="changePasswordCheck" type="checkbox" aria-label="Checkbox for following text input" ${info[currentRoom].password ? "checked" : ""}>\r\n      </div>\r\n    </div>\r\n    <input id="changePasswordArea" type="password" class="form-control" aria-label="Text input with checkbox" ${info[currentRoom].password ? "" : "disabled"}>\r\n  </div>\r\n  `,\r\n          showCancelButton: true,\r\n          confirmButtonColor: \'#3085d6\',\r\n          cancelButtonColor: \'#d33\',\r\n          confirmButtonText: \'Apply\',\r\n          inputAttributes: {\r\n            autocapitalize: \'off\'\r\n          },\r\n          preConfirm : () => {\r\n           \r\n  \r\n            let passwordCheck = $(\'#changePasswordCheck\').is(":checked")\r\n            if (passwordCheck){\r\n              password = $(\'#changePasswordArea\').val();\r\n              socket.emit(\'changePassword\', currentRoom, password)\r\n            }else{\r\n              password = "";\r\n              socket.emit(\'changePassword\', currentRoom, password)\r\n            }\r\n  \r\n            let before = info[currentRoom].limit\r\n            let after = $(\'#changeRoomLimitArea\').val()\r\n            if (before != after){\r\n              socket.emit(\'changeRoomLimit\', currentRoom, before, after)\r\n              \r\n            }\r\n  \r\n  \r\n            before = currentRoom\r\n            after = $(\'#changeRoomNameArea\').val()\r\n            if (before != after){\r\n              socket.emit(\'changeRoomName\', before, after)\r\n              currentRoom = after;\r\n            }\r\n          }\r\n         \r\n        })\r\n      })\r\n  \r\n\r\n\r\n      $(document).on("click", "#chatSend", function(){\r\n        chatSend();\r\n      })\r\n      $("#chatArea").keyup(function(e){if(e.keyCode == 13)  chatSend(); });\r\n  \r\n      $("#chatting").css("height", (parseFloat($("#chatContainer").css("height")) -  parseFloat($("#roomMasterArea").css("height")) -  parseFloat($("#chatSendArea").css("height"))) + "px")\r\n      $(window).resize(function(){\r\n        $("#chatting").css("height", (parseFloat($("#chatContainer").css("height")) -  parseFloat($("#roomMasterArea").css("height")) -  parseFloat($("#chatSendArea").css("height"))) + "px")\r\n      })\r\n  \r\n  \r\n  \r\n      $(window).resize(function(){\r\n        $("#roomContainer").css("height", (parseFloat($("#leftContainer").css("height")) -  parseFloat($("#exitRoom").css("height")) -  parseFloat($("#upperRoomContainer").css("height"))) + "px")\r\n      })\r\n  \r\n  \r\n  \r\n  \r\n  \r\n      $(document).on("click", "#passwordCheck", function(){\r\n        if($(this).is(":checked")){\r\n          $(\'#passwordArea\').prop("disabled", false)\r\n        }else{\r\n          $(\'#passwordArea\').prop("disabled", true)\r\n        }\r\n      })\r\n      $(document).on("click", "#changePasswordCheck", function(){\r\n        if($(this).is(":checked")){\r\n          $(\'#changePasswordArea\').prop("disabled", false)\r\n        }else{\r\n          $(\'#changePasswordArea\').prop("disabled", true)\r\n        }\r\n      })\r\n  \r\n  \r\n      $(document).on("click", "#exitRoom", function(){\r\n        socket.emit(\'leaveRoom\', currentRoom);\r\n      })\r\n  \r\n      $(document).on("click", "#exitGame", function(){\r\n        \r\n        $(\'#chatting\').html(\'\');\r\n\r\n        let roomName = currentRoom\r\n\r\n        if(info[roomName].members[0] === getMyName()){\r\n            $(\'#roomMasterArea\').html(`<div id="chatRoomManage" class="btn btn-secondary" style="margin-right:0px ; width:80%;height:40px">방 관리</div><div id="startGame" class="btn btn-danger" style="width:20%;height:40px">게임 시작</div>`)\r\n            $(\'#roomMasterArea\').css(\'height\', "40px")\r\n            $("#chatting").css("height", (parseFloat($("#chatContainer").css("height")) -  parseFloat($("#roomMasterArea").css("height")) -  parseFloat($("#chatSendArea").css("height"))) + "px")\r\n        }else{\r\n            $(\'#roomMasterArea\').html(`<div class="alert alert-secondary" style="width:100%;height:0px">방 관리</div>`)\r\n            $(\'#roomMasterArea\').css(\'height\', "0px")\r\n            $("#chatting").css("height", (parseFloat($("#chatContainer").css("height")) -  parseFloat($("#roomMasterArea").css("height")) -  parseFloat($("#chatSendArea").css("height"))) + "px")\r\n\r\n        }\r\n\r\n        if(!currentRoom){\r\n            $(\'#chatContainer\').css(\'visibility\', \'hidden\');\r\n            $(\'#exitRoom\').css(\'visibility\', \'hidden\');\r\n        }else{\r\n            $(\'#chatContainer\').css(\'visibility\', \'visible\');\r\n            $(\'#exitRoom\').css(\'visibility\', \'visible\');\r\n        }\r\n\r\n\r\n\r\n        namePopover(roomName);\r\n\r\n        $("#leftContainer").css(\'display\', \'block\');\r\n        $("#leftGameContainer").css(\'display\', \'none\'); \r\n\r\n        $("#roomContainer").css("height", (parseFloat($("#leftContainer").css("height")) -  parseFloat($("#exitRoom").css("height")) -  parseFloat($("#upperRoomContainer").css("height"))) + "px")\r\n      \r\n        socket.emit(\'leaveRoom\', currentRoom);\r\n      })\r\n  \r\n      $(document).on("click", ".logout", function(){\r\n        location.href = "/logout"\r\n      })\r\n  \r\n      $(document).on("click", "#makeRoom", function(){\r\n  \r\n        Swal.fire({\r\n          title: \'Room Name\',\r\n          html: `\r\n  <div class="input-group mb-3">\r\n    <div class="input-group-prepend">\r\n      <span class="input-group-text" id="basic-addon1">방 이름</span>\r\n    </div>\r\n    <input type="text" id="roomNameArea" class="form-control" placeholder="방 이름" aria-label="방 이름" aria-describedby="basic-addon1">\r\n  </div>\r\n  <div class="input-group mb-3">\r\n    <div class="input-group-prepend">\r\n      <span class="input-group-text" id="basic-addon1">최대 인원</span>\r\n    </div>\r\n    <input type="text" id="roomLimitArea" class="form-control" placeholder="최대 인원" aria-label="최대 인원" aria-describedby="basic-addon1" value="12">\r\n  </div>\r\n  <div class="input-group mb-3">\r\n    <div class="input-group-prepend">\r\n      <div class="input-group-text">\r\n        비밀번호\r\n      </div>\r\n      <div class="input-group-text">\r\n        <input id="passwordCheck" type="checkbox" aria-label="Checkbox for following text input">\r\n      </div>\r\n    </div>\r\n    <input id="passwordArea" type="password" class="form-control" aria-label="Text input with checkbox" disabled>\r\n  </div>\r\n  `,\r\n          showCancelButton: true,\r\n          confirmButtonColor: \'#3085d6\',\r\n          cancelButtonColor: \'#d33\',\r\n          confirmButtonText: \'Apply\',\r\n          inputAttributes: {\r\n            autocapitalize: \'off\'\r\n          },\r\n          showLoaderOnConfirm: true,\r\n          preConfirm : () => {\r\n            let password;\r\n            let roomName = $(\'#roomNameArea\').val()\r\n            let passwordCheck = $(\'#passwordCheck\').is(":checked")\r\n            if (passwordCheck){\r\n              password = $(\'#passwordArea\').val()\r\n            }else{\r\n              password = "";\r\n            }\r\n            let roomLimit = $(\'#roomLimitArea\').val();\r\n          \r\n            console.log(roomName, passwordCheck, password);\r\n            if(getMyName()){\r\n                socket.emit(\'makeRoom\', roomName, password, roomLimit);\r\n                socket.emit(\'joinRoom\', roomName, getMyName());\r\n            }\r\n         \r\n          }\r\n        })\r\n  \r\n      })\r\n\r\n      $(document).on("click", ".room", function(){\r\n  \r\n        var roomName = $(this).children(\'.roomName\').text();\r\n        if (roomName != currentRoom){\r\n          if(info[roomName].password){\r\n            Swal.fire({\r\n              title: \'Password\',\r\n              text: \'비번\',\r\n              input: \'password\',\r\n              inputAttributes: {\r\n                autocapitalize: \'off\'\r\n              },\r\n              showCancelButton: true,\r\n              confirmButtonText: \'Make & Enter\',\r\n              showLoaderOnConfirm: true,\r\n              preConfirm: (password) => {\r\n                console.log(roomName, password)\r\n                socket.emit(\'checkPassword\', roomName, password);\r\n                \r\n                \r\n                \r\n              },\r\n              allowOutsideClick: () => !Swal.isLoading()\r\n            })\r\n          }else{\r\n            socket.emit(\'joinRoom\', roomName, getMyName());\r\n          }\r\n        }\r\n        \r\n  \r\n      })\r\n  \r\n      $(document).on("click", ".mandate", function(){\r\n        let socketID = $(this).attr(\'data\')\r\n        socket.emit(\'mandateRoomMaster\', currentRoom, socketID )\r\n        \r\n      })\r\n      $(document).on("click", ".kick", function(){\r\n        let socketID = $(this).attr(\'data\')\r\n        socket.emit(\'kick\', currentRoom, socketID )\r\n        \r\n      })\r\n\r\n\r\n      socket.on(\'refreshUser\', function(data){\r\n        users = data;\r\n        console.log(users);\r\n      })\r\n  \r\n  \r\n      socket.on(\'changePassword\', function(roomName, type){\r\n        if(type == 0){\r\n          chatAppend("noticePrimary", `${roomName}의 비밀번호가 해제됨 ㅋ`);\r\n        }else{\r\n          chatAppend("noticePrimary", `${roomName}의 비밀번호가 변경됨 ㅋ`);\r\n        }\r\n      })\r\n  \r\n      socket.on(\'changeRoomLimit\', function(before, after){\r\n        chatAppend("noticePrimary", `방의 최대 인원이 ${before}에서 ${after}로 변경됨 ㅋ`);\r\n      })\r\n  \r\n      socket.on(\'changeRoomLimitErr\', function(){\r\n        Swal.fire({\r\n          icon: \'error\',\r\n          title: \'저런\',\r\n          text: \'현재 인원보다 최대 인원이 작으면 안됨ㅋ\'\r\n        })\r\n      })\r\n  \r\n      socket.on(\'changeRoomName\', function(before,after){\r\n        currentRoom = after;\r\n        chatAppend("noticePrimary", `방의 이름이 ${before}에서 ${after}로 변경됨 ㅋ`);\r\n      })\r\n  \r\n      socket.on(\'a\',function(data){\r\n        console.log(data);\r\n      })\r\n  \r\n      \r\n  \r\n      socket.on(\'newRoomMaster\', function(roomName, name, socketID){\r\n  \r\n        chatAppend("noticePrimary", `<span class=\'chatName\' data-sname=\'${name}\' data-sid=\'${socketID}\' style=\'font-weight:1000;color:#${getColor(name)}\'>${name}</span>님이 ${roomName}의 방장이 됨 ㅋ`)\r\n  \r\n        if(name === getMyName()){\r\n          $(\'#roomMasterArea\').html(`<div id="chatRoomManage" class="btn btn-secondary" style="margin-right:0px ; width:80%;height:40px">방 관리</div><div id="startGame" class="btn btn-danger" style="width:20%;height:40px">게임 시작</div>`)\r\n          $(\'#roomMasterArea\').css(\'height\', "40px")\r\n          $("#chatting").css("height", (parseFloat($("#chatContainer").css("height")) -  parseFloat($("#roomMasterArea").css("height")) -  parseFloat($("#chatSendArea").css("height"))) + "px")\r\n        }else{\r\n          $(\'#roomMasterArea\').html(`<div id="chatRoomManage" class="alert alert-secondary" style="width:100%;height:0px">방 관리</div>`)\r\n          $(\'#roomMasterArea\').css(\'height\', "0px")\r\n          $("#chatting").css("height", (parseFloat($("#chatContainer").css("height")) -  parseFloat($("#roomMasterArea").css("height")) -  parseFloat($("#chatSendArea").css("height"))) + "px")\r\n       \r\n        }\r\n        namePopover(roomName);\r\n      })\r\n  \r\n  \r\n      socket.on(\'receiveChat\', function(socketID, roomName, name, text, type){\r\n        if(info[roomName].members[0] == name && !info[roomName].isPlaying){\r\n          chatAppend("chat", `<span data-toggle="popover" data-placement="bottom"  data-html="true" data-sname=\'${name}\' data-sid=\'${socketID}\'\r\n          class=\'chatName ${socketID}\' style=\'cursor:pointer;font-weight:1000;color:#${getColor(name)}\'><i class=\'fas fa-crown\'></i> ${name}</span> : <span class=\'${type}Chat\'>${text}</span>`)\r\n          \r\n          \r\n          \r\n  \r\n  \r\n        }else{\r\n          chatAppend("chat", `<span data-toggle="popover" data-placement="bottom"  data-html="true" data-sname=\'${name}\' data-sid=\'${socketID}\'\r\n                              class=\'chatName ${socketID} ${type}Name\' style=\'cursor:pointer;font-weight:1000;color:#${getColor(name)}\'>${name}</span> : <span class=\'${type}Chat\'>${text}</span>`)\r\n          \r\n        \r\n        }\r\n\r\n        if(currentName != name && !isFocus && !info[roomName].isPlaying){\r\n          if(config.checkPushAlarm){\r\n            Push.create(name, {\r\n              body: text,\r\n              icon: \'/images/icon_player.png\',\r\n              timeout: 3000,\r\n              onClick: function () {\r\n                  window.focus();\r\n                  this.close();\r\n              }\r\n            });\r\n          }\r\n          if(config.checkChattingSFX){\r\n            var audio = document.getElementById(\'audio_play\'); \r\n            audio.volume = config.VolumeSFX;\r\n            if (audio.paused) { \r\n                audio.play(); \r\n            }else{ \r\n                audio.pause(); \r\n                audio.currentTime = 0 \r\n                audio.play(); \r\n            } \r\n          }\r\n          \r\n\r\n          \r\n        }\r\n\r\n\r\n        namePopover(roomName);\r\n  \r\n  \r\n      })\r\n  \r\n      var isFocus = 1;\r\n\r\n      $(window).focus(function() {\r\n        isFocus = 1;\r\n      });\r\n\r\n      $(window).blur(function() {\r\n        isFocus = 0;\r\n      });\r\n  \r\n  \r\n  \r\n      socket.on(\'noticeChangeName\', function(before, after, socketID){\r\n    \r\n        chatAppend("noticePrimary", `<span class="chatName" data-sname=\'${before}\' data-sid=\'${socketID}\' style=\'font-weight:1000;color:#${getColor(before)}\'>${before}</span>님이 <span class="chatName" data-sname=\'${after}\' data-sid=\'${socketID}\' style=\'font-weight:1000;color:#${getColor(after)}\'>${after}</span>로 이름 바꿈 ㅋ`);\r\n        namePopover(currentRoom);\r\n      })\r\n  \r\n  \r\n      \r\n  \r\n  \r\n      socket.on(\'checkPassword\', function(roomName, isCorrect){\r\n        console.log(isCorrect);\r\n        if (isCorrect){\r\n          \r\n          socket.emit(\'joinRoom\', roomName, getMyName());\r\n          //socket.removeListener(\'checkPassword\');\r\n        }else{\r\n          Swal.fire({\r\n            icon: \'error\',\r\n            title: \'저런\',\r\n            text: \'비밀번호 틀렸음 ㅋ\'\r\n          })\r\n        }\r\n      })\r\n  \r\n      socket.on(\'exceedRoomLimit\', function(roomName){\r\n        Swal.fire({\r\n          icon: \'error\',\r\n          title: \'저런\',\r\n          text: \'최대 인원 넘어감ㅋ\'\r\n        })\r\n      })\r\n  \r\n  \r\n      $(document).on("click", "#setName", function(){\r\n  \r\n        var a = $(\'#currentName\').text().trim();\r\n        var b = $(\'#inputName\').val()\r\n  \r\n        socket.emit(\'changeName\', a, b)\r\n        \r\n      })\r\n     \r\n  \r\n  \r\n      \r\n\r\n      socket.on(\'joinRoom\', function(roomName, name, socketID, me){\r\n        if (me){\r\n          $(\'#chatting\').html(\'\');\r\n        }\r\n        \r\n        chatAppend("noticePrimary", `<span data-sname=\'${name}\' data-sid=\'${socketID}\' class=\'chatName ${socketID}\' style=\'font-weight:1000;color:#${getColor(name)}\'>${name}</span>님이 ${roomName}에 입장함 ㅋ`)\r\n        currentRoom = roomName;\r\n        \r\n        if(info[roomName].members[0] === getMyName()){\r\n          $(\'#roomMasterArea\').html(`<div id="chatRoomManage" class="btn btn-secondary" style="margin-right:0px ; width:80%;height:40px">방 관리</div><div id="startGame" class="btn btn-danger" style="width:20%;height:40px">게임 시작</div>`)\r\n          $(\'#roomMasterArea\').css(\'height\', "40px")\r\n          $("#chatting").css("height", (parseFloat($("#chatContainer").css("height")) -  parseFloat($("#roomMasterArea").css("height")) -  parseFloat($("#chatSendArea").css("height"))) + "px")\r\n        }else{\r\n          $(\'#roomMasterArea\').html(`<div class="alert alert-secondary" style="width:100%;height:0px">방 관리</div>`)\r\n          $(\'#roomMasterArea\').css(\'height\', "0px")\r\n          $("#chatting").css("height", (parseFloat($("#chatContainer").css("height")) -  parseFloat($("#roomMasterArea").css("height")) -  parseFloat($("#chatSendArea").css("height"))) + "px")\r\n       \r\n        }\r\n        \r\n        if(!currentRoom){\r\n          $(\'#chatContainer\').css(\'visibility\', \'hidden\');\r\n          $(\'#exitRoom\').css(\'visibility\', \'hidden\');\r\n        }else{\r\n          $(\'#chatContainer\').css(\'visibility\', \'visible\');\r\n          $(\'#exitRoom\').css(\'visibility\', \'visible\');\r\n        }\r\n        \r\n        namePopover(roomName);\r\n  \r\n        \r\n      })\r\n        \r\n      socket.on(\'leaveRoom\', function(roomName, name, socketID, me){\r\n        console.log(roomName, name, me);\r\n        chatAppend("noticeDanger", `<span data-sname=\'${name}\' data-sid=\'${socketID}\' class=\'chatName ${socketID}\' style=\'font-weight:1000;color:#${getColor(name)}\'>${name}</span>님이 ${roomName}을 나감 ㅋ`)\r\n        if(me){\r\n          currentRoom = undefined;\r\n        }\r\n        \r\n        if(!currentRoom){\r\n          $(\'#chatContainer\').css(\'visibility\', \'hidden\');\r\n          $(\'#exitRoom\').css(\'visibility\', \'hidden\');\r\n        }else{\r\n          $(\'#chatContainer\').css(\'visibility\', \'visible\');\r\n          $(\'#exitRoom\').css(\'visibility\', \'visible\');\r\n        }\r\n  \r\n        namePopover(roomName);\r\n      })\r\n        \r\n      socket.on(\'kickedRoom\', function(roomName, name, socketID, me){\r\n        console.log(roomName, name, me);\r\n        chatAppend("noticeDanger", `<span data-sname=\'${name}\' data-sid=\'${socketID}\' class=\'chatName ${socketID}\' style=\'font-weight:1000;color:#${getColor(name)}\'>${name}</span>님이 강퇴당함 ㅋㅋㅋㅋㅋㅋㅋ`)\r\n        if(me){\r\n          currentRoom = undefined;\r\n          Swal.fire({\r\n            icon: \'error\',\r\n            title: \'ㅋㅋㅋㅋㅋㅋㅋ\',\r\n            text: \'강퇴 당함 ㅋ\'\r\n          })\r\n        }\r\n        \r\n        if(!currentRoom){\r\n          $(\'#chatContainer\').css(\'visibility\', \'hidden\');\r\n          $(\'#exitRoom\').css(\'visibility\', \'hidden\');\r\n        }else{\r\n          $(\'#chatContainer\').css(\'visibility\', \'visible\');\r\n          $(\'#exitRoom\').css(\'visibility\', \'visible\');\r\n        }\r\n        namePopover(roomName);\r\n      })\r\n        \r\n  \r\n  \r\n  \r\n      socket.on(\'failSetName\', function(){\r\n        alert("이미 있는 이름임ㅋ");\r\n      })\r\n  \r\n      socket.on(\'successSetName\', function(){\r\n        $(\'#currentName\').text($(\'#inputName\').val())\r\n        currentName = $(\'#inputName\').val()\r\n      })\r\n  \r\n      \r\n  \r\n  \r\n      socket.on(\'refreshMain\', function(data){\r\n        info = data;\r\n        $(\'[data-toggle="tooltip"]\').tooltip(\'hide\')\r\n        console.log(data);\r\n        var string = "<hr>";\r\n        for (key in data){\r\n          if(data[key].isPlaying) continue;\r\n  \r\n  \r\n          let popup = "";\r\n          popup += `<span style=\'color:red !important\'>${key}</span><hr class=\'tooltipHR\' style=\'background-color:red\'>`\r\n          //popup += "접속자 : " + data[key]["members"].length + "명";\r\n          for (i in data[key]["members"]){\r\n            if (i == 0){\r\n              popup += "<span> <i class=\'fas fa-crown\'></i> " + data[key]["members"][i] + "</span>"\r\n            }else{\r\n              popup += "<br> <span>" + data[key]["members"][i] + "</span>"\r\n            }\r\n           \r\n          }\r\n  \r\n          if(data[key]["members"].includes(getMyName())){\r\n            string += `\r\n            <div class=\'room alert alert-warning d-flex justify-content-between \'\r\n            data-toggle=\'tooltip\' data-placement=\'bottom\' data-html=\'true\' title="${popup}"> \r\n              <div class=\'roomName\' style="display: block;text-overflow:ellipsis;overflow: hidden;white-space: nowrap;">${key}</div>\r\n              <div class=\'roomLimit \'>(${data[key].members.length}/${data[key].limit})</div>\r\n            </div>`\r\n          }else{\r\n            string += `\r\n            <div class=\'room alert alert-info d-flex justify-content-between \'\r\n            data-toggle=\'tooltip\' data-placement=\'bottom\' data-html=\'true\' title="${popup}"> \r\n              <div class=\'roomName\' style="display: block;text-overflow:ellipsis;overflow: hidden;white-space: nowrap;">${key}</div>\r\n              <div class=\'roomLimit \'>(${data[key].members.length}/${data[key].limit})</div>\r\n            </div>`\r\n          }\r\n  \r\n          string += "<hr>"\r\n        }\r\n        $(\'#roomContainer\').html(string);\r\n  \r\n        \r\n        \r\n        $(\'[data-toggle="tooltip"]\').tooltip()\r\n        $("#roomContainer").css("height", (parseFloat($("#leftContainer").css("height")) -  parseFloat($("#exitRoom").css("height")) -  parseFloat($("#upperRoomContainer").css("height"))) + "px")\r\n      })\r\n  \r\n      $(\'.config\').on("click", function(){\r\n\r\n          Swal.fire({\r\n            title: \'Config\',\r\n            html: `\r\n            <label for="VolumeSFX">효과음 크기</label>\r\n            <input type="range" class="custom-range" id="VolumeSFX" min="0" max="1" step="0.1" value="${config.VolumeSFX}">\r\n            \r\n            <hr>\r\n            <div class="custom-control custom-switch">\r\n              \r\n              <input type="checkbox" class="custom-control-input" id="checkPushAlarm" ${config.checkPushAlarm ? "checked" : ""}>\r\n              <label class="custom-control-label" for="checkPushAlarm">화면을 보고 있지 않을 때 채팅 푸쉬 알림</label>\r\n            </div>\r\n            <div class="custom-control custom-switch">\r\n              \r\n              <input type="checkbox" class="custom-control-input" id="checkChattingSFX" ${config.checkChattingSFX ? "checked" : ""}>\r\n              <label class="custom-control-label" for="checkChattingSFX">화면을 보고 있지 않을 때 채팅 효과음</label>\r\n            </div>\r\n            \r\n    `,\r\n            showCancelButton: true,\r\n            confirmButtonColor: \'#3085d6\',\r\n            cancelButtonColor: \'#d33\',\r\n            confirmButtonText: \'Apply\',\r\n            inputAttributes: {\r\n              autocapitalize: \'off\'\r\n            },\r\n            preConfirm : () => {\r\n             \r\n              config.VolumeSFX = $(\'#VolumeSFX\').val();\r\n              config.checkPushAlarm = $(\'#checkPushAlarm\').is(":checked")\r\n              config.checkChattingSFX = $(\'#checkChattingSFX\').is(":checked")\r\n            \r\n            }\r\n           \r\n          })\r\n\r\n      })\r\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(!(function webpackMissingModule() { var e = new Error("Cannot find module \'jquery\'"); e.code = \'MODULE_NOT_FOUND\'; throw e; }()))))\n\n//# sourceURL=webpack:///./public/javascripts/main.js?')},"./public/stylesheets/style.css":
/*!**************************************!*\
  !*** ./public/stylesheets/style.css ***!
  \**************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__["default"] = (__webpack_require__.p + "8a98b0e0c26cd44810a31340260cdb3f.css");\n\n//# sourceURL=webpack:///./public/stylesheets/style.css?')}});